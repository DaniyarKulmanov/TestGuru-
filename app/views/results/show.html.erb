<h1><%= t('.test', title: @result.test.title) %></h1>

<p><%= t('.total.questions', count: @result.test.questions.count) %></p>

<p><%= t('.current_question', question_id: @result.current_question.id ) %></p>

<%= content_tag :div,
                content_tag(:div, "25%",
                class: "progress-bar",
                role: "progressbar",
                'aria-valuemax' => 100,
                'aria-valuemin' => 0,
                'aria-valuenow' => 25,
                style: "width: 25%" ,
                data: { questions_max: @result.test.questions.length,
                        question_index: @result.test.questions.find_index(@result.current_question) }),
                class: "progress" %>

<p>
  <b><%= @result.current_question.body %></b>
</p>

<p><%= t('.answers') %></p>

<%= form_with url: result_path(@result), method: :put do |form| %>
  <%= form.collection_check_boxes :answer_ids, @result.current_question.answers, :id, :body, include_hidden: false do |c| %>
    <p>
      <%= c.check_box id: "answer_ids#{c.object.id}"%>
      <%= c.label %>
    </p>
  <% end %>

  <p><%= link_to t('.gist_question'), result_gists_path(@result), method: :post %></p>
  <p> <%= form.submit t('.next') %></p>
<% end %>
